{"version":3,"file":"js/373.4f68978f.js","mappings":"4PAEEA,EAAAA,EAAAA,GAA8B,KAA3BC,MAAQ,SAAM,aAAS,K,UAE1BD,EAAAA,EAAAA,GAEM,OAFDC,MAAQ,QAAM,EACjBD,EAAAA,EAAAA,GAAmD,OAA9CC,MAAO,QAAQC,IAAAC,MADtB,K,UAGAH,EAAAA,EAAAA,GAAI,qB,UACJA,EAAAA,EAAAA,GAAI,qB,UAKFA,EAAAA,EAAAA,GAAI,qB,WAE0E,M,6LAdhFI,EAAAA,EAAAA,IAA+BC,EAAA,CAAnBJ,MAAQ,YACpBK,GACAF,EAAAA,EAAAA,IAA+BC,EAAA,CAAnBJ,MAAQ,YACpBM,EAGAC,EACAC,GACAL,EAAAA,EAAAA,IAQUM,EAAA,CARAC,MAAOC,EAAAA,SAAWC,MAAOD,EAAAA,MAAOE,IAAI,WAAW,cAAY,QAAQb,MAAM,iBAAnF,C,kBACE,IAEe,EAFfG,EAAAA,EAAAA,IAEeW,EAAA,CAFDC,MAAM,OAAOC,KAAK,WAAWhB,MAAQ,QAAnD,C,kBACE,IAAkD,EAAlDG,EAAAA,EAAAA,IAAkDc,EAAA,C,WAA9BN,EAAAA,SAASO,S,qCAATP,EAAAA,SAASO,SAAQC,IAArC,0B,MAEFC,GACAjB,EAAAA,EAAAA,IAEeW,EAAA,CAFDd,MAAQ,UAAQ,C,kBAC5B,IAA0F,EAA1FG,EAAAA,EAAAA,IAA0FkB,EAAA,CAA/EC,KAAK,UAAYC,QAAK,eAAEC,EAAAA,WAAU,aAAcxB,MAAQ,UAAnE,C,kBAA4E,IAAE,M,uBANlF,yB,gCAeFyB,IAAAA,SAAAA,QAAAA,OAAAA,MAAyCC,OAAOC,aAAaC,QAAQ,SACrEH,IAAAA,SAAAA,QAAAA,KAAAA,gBAA8C,iCAC9C,OACEI,KAAM,UACNC,OACE,MAAM,CACJC,SAAS,CACPb,SAAS,IAEXN,MAAO,CACLM,SAAU,CAAC,CAACc,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAAS,CAChEC,IAAK,EACLC,IAAK,GACLH,QAAS,iBACTC,QAAS,UAIhB,EACDG,QAAQ,CACNC,WAAWC,GACTC,KAAKC,MAAMF,GAAUG,UAASC,IAC5B,IAAIA,EA2BF,OADAC,QAAQC,IAAI,mBACL,EA1BPD,QAAQC,IAAIL,KAAK7B,MAAMoB,SAASb,UAChCO,IAAAA,KAAW,kBAAkB,CAACqB,MAAMpB,OAAOC,aAAaC,QAAQ,SAASV,SAASsB,KAAK7B,MAAMoB,SAASb,WACjG6B,MAAKC,IACJJ,QAAQC,IAAIG,EAAIlB,MAEO,IAAnBkB,EAAIlB,KAAKmB,MACXT,KAAKU,SAAS,CACZ5B,KAAM,UACNW,QAAS,SAEXP,OAAOC,aAAawB,QAAQ,WAAWX,KAAKT,SAASb,UACrDQ,OAAOC,aAAawB,QAAQ,QAAQH,EAAIlB,KAAKgB,SAG7CN,KAAKU,SAAS,CACZ5B,KAAM,QACNW,QAASe,EAAIlB,KAAKG,UAEC,UAAlBe,EAAIlB,KAAKmB,OACVvB,OAAOC,aAAayB,WAAW,SAC/BZ,KAAKa,QAAQC,KAAK,MAEtB,GAKR,GAGJ,I,QCtEJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://untitled1/./src/components/housemaster/user/newName.vue","webpack://untitled1/./src/components/housemaster/user/newName.vue?5365"],"sourcesContent":["<template>\r\n  <el-divider class = \"divide1\"/>\r\n  <p class = title>修 改 用 户 名</p>\r\n  <el-divider class = \"divide2\"/>\r\n  <div class = \"logo\">\r\n    <img class =\"image\" src=\"@/assets/repair_logo.png\">\r\n  </div>\r\n  <br>\r\n  <br>\r\n  <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n    <el-form-item label=\"新用户名\" prop=\"userName\" class = \"name\">\r\n      <el-input  v-model=\"ruleForm.userName\"></el-input>\r\n    </el-form-item>\r\n    <br>\r\n    <el-form-item class = \"button\">\r\n      <el-button type=\"primary\"  @click=\"submitForm('ruleForm')\" class = \"submit\">提交</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n\r\naxios.defaults.headers.common['token'] = window.localStorage.getItem('token');\r\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8';//配置请求头\r\nexport default {\r\n  name: \"newName\",\r\n  data(){\r\n    return{\r\n      ruleForm:{\r\n        userName:'',\r\n      },\r\n      rules: {\r\n        userName: [{required: true, message: '请输入您的名称', trigger: 'blur'}, {\r\n          min: 4,\r\n          max: 16,\r\n          message: '长度在 4 到 16 个字符',\r\n          trigger: 'blur'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          console.log(this.$data.ruleForm.userName)\r\n          axios.post('/changeUserName',{token:window.localStorage.getItem('token'),userName:this.$data.ruleForm.userName})\r\n              .then(res=>{\r\n                console.log(res.data)\r\n\r\n                if (res.data.code  === 0){\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: '修改成功'\r\n                  });\r\n                  window.localStorage.setItem('userName',this.ruleForm.userName)\r\n                  window.localStorage.setItem('token',res.data.token)\r\n                }\r\n                else{\r\n                  this.$message({\r\n                    type: 'error',\r\n                    message: res.data.message\r\n                  });\r\n                  if(res.data.code === '50000'){\r\n                    window.localStorage.removeItem('token')\r\n                    this.$router.push('/')\r\n                  }\r\n                }\r\n              })\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.title{\r\n  font-family: \"微软雅黑\";\r\n  font-size: x-large;\r\n  font-weight: bold;\r\n  color: #4e606c;\r\n}\r\n.divide1 {\r\n  border-style: dot-dot-dash ;\r\n  border-color: #7993a2;\r\n}\r\n.divide2{\r\n  border-style: dot-dot-dash ;\r\n  border-color: #7993a2;\r\n}\r\n.logo{\r\n  width: 100%;\r\n  height: 200px;\r\n\r\n}\r\n.image{\r\n  width: 200px;\r\n  height: 200px;\r\n  margin: 0 auto;\r\n}\r\n.demo-ruleForm{\r\n  width: 400px;\r\n  margin: 0 auto;\r\n}\r\n.name{\r\n  width: 350px;\r\n}\r\n.button{\r\n  width: 260px;\r\n  height: 60px;\r\n  margin: 0 auto;\r\n\r\n}\r\n\r\n</style>","import { render } from \"./newName.vue?vue&type=template&id=aab765ce&scoped=true\"\nimport script from \"./newName.vue?vue&type=script&lang=js\"\nexport * from \"./newName.vue?vue&type=script&lang=js\"\n\nimport \"./newName.vue?vue&type=style&index=0&id=aab765ce&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\work\\\\untitled1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aab765ce\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","_createVNode","_component_el_divider","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_el_form","model","$data","rules","ref","_component_el_form_item","label","prop","_component_el_input","userName","$event","_hoisted_5","_component_el_button","type","onClick","$options","axios","window","localStorage","getItem","name","data","ruleForm","required","message","trigger","min","max","methods","submitForm","formName","this","$refs","validate","valid","console","log","token","then","res","code","$message","setItem","removeItem","$router","push","__exports__","render"],"sourceRoot":""}