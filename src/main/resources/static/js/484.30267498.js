"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[484],{6484:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);const d=e=>((0,l.dD)("data-v-92154090"),e=e(),(0,l.Cn)(),e),n=d((()=>(0,l._)("p",{class:"title"},"宿舍维修安排",-1))),o=(0,l.Uk)(" 安排维修 ");function i(e,t,a,d,i,c){const r=(0,l.up)("el-table-column"),u=(0,l.up)("el-date-picker"),p=(0,l.up)("el-button"),s=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[n,(0,l._)("div",null,[(0,l.Wm)(s,{"header-cell-style":{border:"none",background:"white"},data:i.tableNewData,border:!1,"cell-class-name":e.tableRowClassName},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{prop:"id",label:"报修者编号",align:"center",width:"100px"}),(0,l.Wm)(r,{prop:"equipmentId",label:"报修设备号",align:"center",width:"100px"}),(0,l.Wm)(r,{prop:"detail",label:"内容描述",align:"center",width:"300px"}),(0,l.Wm)(r,{prop:"date",label:"安排时间",align:"center",width:"300px"},{default:(0,l.w5)((e=>[(0,l.Wm)(u,{modelValue:e.row.date,"onUpdate:modelValue":t=>e.row.date=t,type:"datetime",placeholder:"Select date and time","default-time":i.defaultTime},null,8,["modelValue","onUpdate:modelValue","default-time"])])),_:1}),(0,l.Wm)(r,{prop:"distribute",label:"",align:"center"},{default:(0,l.w5)((e=>[(0,l.Wm)(p,{type:"text",size:"medium",onClick:t=>c.handleClick(e.row)},{default:(0,l.w5)((()=>[o])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","cell-class-name"])])],64)}var c=a(6265),r=a.n(c);r().defaults.headers.common.token=window.localStorage.getItem("token"),r().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var u={name:"dorRepair",data(){return{defaultTime:new Date(2e3,1,1,12,0,0),time:"",tableNewData:[]}},mounted(){r().post("/showMaintenance").then((e=>{this.$data.tableNewData=e.data.data}))},methods:{handleClick(e){console.log(e.time),console.log(e.date),void 0===e.date&&(e.date=new Date),console.log("?"+e.date),r().post("/updateMaintenance",{id:e.id,date:e.date}).then((e=>{console.log(e),console.log(e.data),console.log(e.data.data),location.reload()}))}}},p=a(89);const s=(0,p.Z)(u,[["render",i],["__scopeId","data-v-92154090"]]);var m=s}}]);
//# sourceMappingURL=484.30267498.js.map