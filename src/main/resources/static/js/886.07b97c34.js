"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[886],{6886:function(e,t,l){l.r(t),l.d(t,{default:function(){return q}});var u=l(3396),r=l(2311);const o=e=>((0,u.dD)("data-v-90fee312"),e=e(),(0,u.Cn)(),e),a=o((()=>(0,u._)("p",{class:"title"},"宿 舍 报 修",-1))),s=o((()=>(0,u._)("div",{class:"logo"},[(0,u._)("img",{class:"image",src:r})],-1))),m=o((()=>(0,u._)("br",null,null,-1))),n=o((()=>(0,u._)("br",null,null,-1))),d=(0,u.Uk)("提交");function i(e,t,l,r,o,i){const c=(0,u.up)("el-divider"),p=(0,u.up)("el-input"),g=(0,u.up)("el-form-item"),f=(0,u.up)("el-button"),h=(0,u.up)("el-form");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(c,{class:"divide1"}),a,(0,u.Wm)(c,{class:"divide2"}),s,m,n,(0,u.Wm)(h,{model:o.ruleForm,rules:o.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,u.w5)((()=>[(0,u.Wm)(g,{label:"报修设备号",prop:"equNum",class:"equNum"},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{modelValue:o.ruleForm.equNum,"onUpdate:modelValue":t[0]||(t[0]=e=>o.ruleForm.equNum=e)},null,8,["modelValue"])])),_:1}),(0,u.Wm)(g,{label:"报修说明",prop:"equContext",class:"equContext"},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{modelValue:o.ruleForm.equContext,"onUpdate:modelValue":t[1]||(t[1]=e=>o.ruleForm.equContext=e)},null,8,["modelValue"])])),_:1}),(0,u.Wm)(g,{class:"button"},{default:(0,u.w5)((()=>[(0,u.Wm)(f,{type:"primary",onClick:t[2]||(t[2]=e=>i.submitForm("ruleForm"))},{default:(0,u.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["model","rules"])],64)}l(7658);var c=l(6265),p=l.n(c);p().defaults.headers.common.token=window.localStorage.getItem("token"),p().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var g={data(){return{msg:"",ruleForm:{equNum:"",equContext:""},rules:{equNum:[{required:!0,message:"请输入您的设备号",trigger:"blur"}],equContext:[{required:!0,message:"请输入您的原因",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;p().post("/addMaintenance",{userName:window.localStorage.getItem("userName"),equipmentId:this.$data.ruleForm.equNum,detail:this.$data.ruleForm.equContext}).then((e=>{console.log(e),this.$data.msg=e.data,0===e.data.code?this.$message({type:"success",message:"提交修改"}):"50000"===e.data.code?(window.localStorage.removeItem("token"),this.$message({type:"error",message:"登录过期 请重新登录"}),this.$router.push("/"),console.log(e)):this.$message({type:"error",message:e.data.message})}))}))}}},f=l(89);const h=(0,f.Z)(g,[["render",i],["__scopeId","data-v-90fee312"]]);var q=h},2311:function(e,t,l){e.exports=l.p+"img/repair_logo.6db0530d.png"}}]);
//# sourceMappingURL=886.07b97c34.js.map