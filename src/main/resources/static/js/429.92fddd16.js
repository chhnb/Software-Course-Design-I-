"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[429],{2293:function(e,a,r){r.r(a),r.d(a,{default:function(){return b}});var l=r(3396),t=r.p+"img/payWater_logo.a22e97c8.png";const o=e=>((0,l.dD)("data-v-78a112ea"),e=e(),(0,l.Cn)(),e),s=o((()=>(0,l._)("p",{class:"title"},"￥ 水 费 充 值 ￥",-1))),u=o((()=>(0,l._)("div",{class:"logo"},[(0,l._)("img",{class:"image",src:t})],-1))),m=o((()=>(0,l._)("br",null,null,-1))),d=o((()=>(0,l._)("br",null,null,-1))),n=o((()=>(0,l._)("br",null,null,-1))),i=(0,l.Uk)("提交");function g(e,a,r,t,o,g){const c=(0,l.up)("el-divider"),p=(0,l.up)("el-input"),w=(0,l.up)("el-form-item"),h=(0,l.up)("el-button"),f=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c,{class:"divide1"}),s,(0,l.Wm)(c,{class:"divide2"}),u,m,d,n,(0,l.Wm)(f,{model:o.ruleForm,rules:o.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{label:"宿舍号",prop:"dorNum",class:"dorNum"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:o.ruleForm.dorNum,"onUpdate:modelValue":a[0]||(a[0]=e=>o.ruleForm.dorNum=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"充值金额",prop:"waterPay",class:"waterPay"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:o.ruleForm.waterPay,"onUpdate:modelValue":a[1]||(a[1]=e=>o.ruleForm.waterPay=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{class:"button"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{type:"primary",onClick:a[2]||(a[2]=e=>g.submitForm("ruleForm"))},{default:(0,l.w5)((()=>[i])),_:1})])),_:1})])),_:1},8,["model","rules"])],64)}r(7658);var c=r(6265),p=r.n(c);p().defaults.headers.common.token=window.localStorage.getItem("token"),p().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var w={data(){return{msg:"",ruleForm:{dorNum:"",waterPay:""},rules:{dorNum:[{required:!0,message:"请输入您的宿舍号",trigger:"blur"},{max:3,pattern:/^[0-9]+$/,message:"只能输入正整数",trigger:["blur"]}],waterPay:[{required:!0,message:"请输入充值金额",trigger:"blur"},{pattern:/^[0-9]+$/,message:"只能输入正整数",trigger:["blur"]}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;p().post("/addWaterCost",{id:this.$data.ruleForm.dorNum,money:this.$data.ruleForm.waterPay}).then((e=>{let a=e.data.code;console.log(e.data),0===a?(this.$message({type:"success",message:"提交查询"}),this.$data.msg=e.data.data.water,location.reload(),console.log(this.$data.msg)):"50000"===a?(window.localStorage.removeItem("token"),this.$message({type:"error",message:"登录过期 请重新登录"}),this.$router.push("/"),console.log(e)):this.$message({type:"error",message:e.data.message})}))}))}}},h=r(89);const f=(0,h.Z)(w,[["render",g],["__scopeId","data-v-78a112ea"]]);var b=f}}]);
//# sourceMappingURL=429.92fddd16.js.map