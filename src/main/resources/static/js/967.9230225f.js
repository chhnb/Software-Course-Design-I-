"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[967],{4732:function(e,l,r){r.r(l),r.d(l,{default:function(){return v}});var s=r(3396),t=r(7139),a=r.p+"img/searchElec_logo.0973e87a.png";const o=e=>((0,s.dD)("data-v-32472b5f"),e=e(),(0,s.Cn)(),e),u=o((()=>(0,s._)("p",{class:"title"},"电 费 查 询",-1))),m=o((()=>(0,s._)("div",{class:"logo"},[(0,s._)("img",{class:"image",src:a})],-1))),d=o((()=>(0,s._)("br",null,null,-1))),n=o((()=>(0,s._)("br",null,null,-1))),i={class:"message"},c=o((()=>(0,s._)("br",null,null,-1))),g=(0,s.Uk)("提交");function p(e,l,r,a,o,p){const f=(0,s.up)("el-divider"),h=(0,s.up)("el-input"),b=(0,s.up)("el-form-item"),_=(0,s.up)("el-button"),w=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(f,{class:"divide1"}),u,(0,s.Wm)(f,{class:"divide2"}),m,d,n,(0,s._)("p",i,"电费：￥"+(0,t.zw)(o.msg),1),c,(0,s.Wm)(w,{model:o.ruleForm,rules:o.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{label:"宿舍号",prop:"dorNum",class:"dorNum"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{modelValue:o.ruleForm.dorNum,"onUpdate:modelValue":l[0]||(l[0]=e=>o.ruleForm.dorNum=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(b,{class:"button"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{type:"primary",onClick:l[1]||(l[1]=e=>p.submitForm("ruleForm"))},{default:(0,s.w5)((()=>[g])),_:1})])),_:1})])),_:1},8,["model","rules"])],64)}r(7658);var f=r(6265),h=r.n(f);h().defaults.headers.common.token=window.localStorage.getItem("token"),h().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var b={data(){return{msg:"",ruleForm:{dorNum:""},rules:{dorNum:[{required:!0,message:"请输入您的宿舍号",trigger:"blur"},{max:3,pattern:/^[0-9]+$/,message:"只能输入数字",trigger:["blur"]}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;h().post("/queryCost",{id:this.$data.ruleForm.dorNum}).then((e=>{let l=e.data.code;0===l?(this.$message({type:"success",message:"提交查询"}),this.$data.msg=e.data.data.electric,console.log(this.$data.msg)):"50000"===l?(window.localStorage.removeItem("token"),this.$message({type:"error",message:"登录过期 请重新登录"}),this.$router.push("/"),console.log(e)):this.$message({type:"error",message:e.data.msg})}))}))}}},_=r(89);const w=(0,_.Z)(b,[["render",p],["__scopeId","data-v-32472b5f"]]);var v=w}}]);
//# sourceMappingURL=967.9230225f.js.map