"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[548],{7823:function(e,r,s){s.r(r),s.d(r,{default:function(){return v}});var t=s(3396),l=s(7139),a=s.p+"img/searchWater_logo.d49f3a54.png";const o=e=>((0,t.dD)("data-v-10fdeaa3"),e=e(),(0,t.Cn)(),e),u=o((()=>(0,t._)("p",{class:"title"}," 水 费 查 询 ",-1))),m=o((()=>(0,t._)("div",{class:"logo"},[(0,t._)("img",{class:"image",src:a})],-1))),d=o((()=>(0,t._)("br",null,null,-1))),n=o((()=>(0,t._)("br",null,null,-1))),i={class:"message"},c=o((()=>(0,t._)("br",null,null,-1))),g=(0,t.Uk)("提交");function p(e,r,s,a,o,p){const f=(0,t.up)("el-divider"),h=(0,t.up)("el-input"),b=(0,t.up)("el-form-item"),w=(0,t.up)("el-button"),_=(0,t.up)("el-form");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(f,{class:"divide1"}),u,(0,t.Wm)(f,{class:"divide2"}),m,d,n,(0,t._)("p",i,"水git 费：￥"+(0,l.zw)(o.msg),1),c,(0,t.Wm)(_,{model:o.ruleForm,rules:o.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{label:"宿舍号",prop:"dorNum",class:"dorNum"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:o.ruleForm.dorNum,"onUpdate:modelValue":r[0]||(r[0]=e=>o.ruleForm.dorNum=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{class:"button"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{type:"primary",onClick:r[1]||(r[1]=e=>p.submitForm("ruleForm"))},{default:(0,t.w5)((()=>[g])),_:1})])),_:1})])),_:1},8,["model","rules"])],64)}s(7658);var f=s(6265),h=s.n(f);h().defaults.headers.common.token=window.localStorage.getItem("token"),h().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var b={data(){return{msg:"",ruleForm:{dorNum:""},rules:{dorNum:[{required:!0,message:"请输入您的宿舍号",trigger:"blur"},{max:3,pattern:/^[0-9]+$/,message:"只能输入数字",trigger:["blur"]}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;h().post("/queryCost",{id:this.$data.ruleForm.dorNum}).then((e=>{let r=e.data.code;0===r?(this.$message({type:"success",message:"提交查询"}),this.$data.msg=e.data.data.water,console.log(this.$data.msg)):"50000"===r?(window.localStorage.removeItem("token"),this.$message({type:"error",message:"登录过期 请重新登录"}),this.$router.push("/"),console.log(e)):this.$message({type:"error",message:e.data.msg})}))}))}}},w=s(89);const _=(0,w.Z)(b,[["render",p],["__scopeId","data-v-10fdeaa3"]]);var v=_}}]);
//# sourceMappingURL=548.39458b27.js.map