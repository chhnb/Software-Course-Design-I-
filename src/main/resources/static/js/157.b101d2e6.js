"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[157],{157:function(e,l,r){r.r(l),r.d(l,{default:function(){return g}});var a=r(3396);const u=(0,a.Uk)("     "),o=(0,a.Uk)("注册"),s=(0,a.Uk)("     "),m=(0,a.Uk)("重置");function t(e,l,r,t,d,p){const i=(0,a.up)("el-input"),n=(0,a.up)("el-form-item"),c=(0,a.up)("el-option"),g=(0,a.up)("el-select"),f=(0,a.up)("el-button"),w=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(w,{model:d.ruleForm,rules:d.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{label:"用户名",prop:"userName",class:"userName"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:d.ruleForm.userName,"onUpdate:modelValue":l[0]||(l[0]=e=>d.ruleForm.userName=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(n,{label:"姓名",prop:"name",class:"name"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:d.ruleForm.name,"onUpdate:modelValue":l[1]||(l[1]=e=>d.ruleForm.name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(n,{label:"密码",prop:"pwd",class:"pwd"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"password",modelValue:d.ruleForm.pwd,"onUpdate:modelValue":l[2]||(l[2]=e=>d.ruleForm.pwd=e),"auto-complete":"off"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(n,{label:"确认密码",prop:"checkPass",class:"check"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"password",modelValue:d.ruleForm.checkPass,"onUpdate:modelValue":l[3]||(l[3]=e=>d.ruleForm.checkPass=e),"auto-complete":"off"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(n,{label:"身份证号",prop:"id",class:"id"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:d.ruleForm.id,"onUpdate:modelValue":l[4]||(l[4]=e=>d.ruleForm.id=e),"auto-complete":"off"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(n,{label:"用户类型",prop:"userType",class:"type"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:d.ruleForm.userType,"onUpdate:modelValue":l[5]||(l[5]=e=>d.ruleForm.userType=e),class:"m-2",placeholder:"请选择用户类别",size:"large",autocomplete:"off"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.options,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(n,{class:"bottom"},{default:(0,a.w5)((()=>[u,(0,a.Wm)(f,{type:"primary",onClick:l[6]||(l[6]=e=>p.submitForm("ruleForm"))},{default:(0,a.w5)((()=>[o])),_:1}),s,(0,a.Wm)(f,{onClick:l[7]||(l[7]=e=>p.resetForm("ruleForm"))},{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["model","rules"])}r(1703),r(7658);var d=r(6265),p=r.n(d),i={data(){var e=(e,l,r)=>{""===l?r(new Error("请输入密码")):r()},l=(e,l,r)=>{""===l?r(new Error("请再次输入密码")):l!==this.ruleForm.pwd?r(new Error("两次输入密码不一致!")):r()};return{options:[{value:1,label:"宿舍居住者"},{value:2,label:"宿舍管理员"},{value:3,label:"系统管理员"}],activeName:"second",ruleForm:{userName:"",pwd:"",checkPass:"",id:"",userType:1,name:""},rules:{userName:[{required:!0,message:"请输入您的名称",trigger:"blur"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"blur"}],pwd:[{required:!0,validator:e,trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],checkPass:[{required:!0,validator:l,trigger:"blur"}],id:[{required:!0,message:"请输入您的身份证号码",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入合法的身份证",trigger:"blur"}],name:[{required:!0,message:"请输入您的姓名",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;p().post("/register",this.$data.ruleForm).then((e=>{console.log(e.data);let l=e.data.code;0!==l?(this.$message({type:"error",message:e.data.message}),this.$router.push("/")):this.$message({type:"success",message:"提交注册成功"})}))}))},resetForm(e){this.$refs[e].resetFields()}}},n=r(89);const c=(0,n.Z)(i,[["render",t],["__scopeId","data-v-3fafd2ea"]]);var g=c}}]);
//# sourceMappingURL=157.b101d2e6.js.map