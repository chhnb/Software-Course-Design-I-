"use strict";(self["webpackChunkuntitled1"]=self["webpackChunkuntitled1"]||[]).push([[823],{6557:function(e,l,r){r.r(l),r.d(l,{default:function(){return y}});var a=r(3396),t=r.p+"img/payElec_logo.a9dc5294.png";const o=e=>((0,a.dD)("data-v-8bf5dcb8"),e=e(),(0,a.Cn)(),e),s=o((()=>(0,a._)("p",{class:"title"},"￥ 电 费 充 值 ￥",-1))),u=o((()=>(0,a._)("div",{class:"logo"},[(0,a._)("img",{class:"image",src:t})],-1))),m=o((()=>(0,a._)("br",null,null,-1))),d=o((()=>(0,a._)("br",null,null,-1))),n=o((()=>(0,a._)("br",null,null,-1))),i=(0,a.Uk)("提交");function c(e,l,r,t,o,c){const g=(0,a.up)("el-divider"),p=(0,a.up)("el-input"),b=(0,a.up)("el-form-item"),f=(0,a.up)("el-button"),h=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(g,{class:"divide1"}),s,(0,a.Wm)(g,{class:"divide2"}),u,m,d,n,(0,a.Wm)(h,{model:o.ruleForm,rules:o.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"宿舍号",prop:"dorNum",class:"dorNum"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{modelValue:o.ruleForm.dorNum,"onUpdate:modelValue":l[0]||(l[0]=e=>o.ruleForm.dorNum=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(b,{label:"充值金额",prop:"elecPay",class:"elecPay"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{modelValue:o.ruleForm.elecPay,"onUpdate:modelValue":l[1]||(l[1]=e=>o.ruleForm.elecPay=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(b,{class:"button"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"primary",onClick:l[2]||(l[2]=e=>c.submitForm("ruleForm"))},{default:(0,a.w5)((()=>[i])),_:1})])),_:1})])),_:1},8,["model","rules"])],64)}r(7658);var g=r(6265),p=r.n(g);p().defaults.headers.common.token=window.localStorage.getItem("token"),p().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var b={data(){return{msg:"",ruleForm:{dorNum:"",elecPay:""},rules:{dorNum:[{required:!0,message:"请输入您的宿舍号",trigger:"blur"},{max:3,pattern:/^[0-9]+$/,message:"只能输入正整数",trigger:["blur"]}],elecPay:[{required:!0,message:"请输入充值金额",trigger:"blur"},{pattern:/^[0-9]+$/,message:"只能输入正整数",trigger:["blur"]}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;p().post("/addElectricCost",{id:this.$data.ruleForm.dorNum,money:this.$data.ruleForm.elecPay}).then((e=>{let l=e.data.code;console.log(e.data),0===l?(this.$message({type:"success",message:"提交查询"}),this.$data.msg=e.data.data.electric,console.log(this.$data.msg),location.reload()):"50000"===l?(window.localStorage.removeItem("token"),this.$message({type:"error",message:"登录过期 请重新登录"}),this.$router.push("/"),console.log(e)):this.$message({type:"error",message:e.data.message})}))}))}}},f=r(89);const h=(0,f.Z)(b,[["render",c],["__scopeId","data-v-8bf5dcb8"]]);var y=h}}]);
//# sourceMappingURL=823.600f4a91.js.map